<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Generate the World.
//World_Generator(num_level, 80);
    Smoothing = false
// Helicopter global variables.
globalvar helicopter_num, call_h, destroy_h;
    helicopter_num = Get_Dificulty("Helicoptero");
    call_h = noone;
    destroy_h = noone;

// Building global variables.
globalvar xx_damage, building_father;
building_father = 0;
xx_damage = "";


// Score variables.
globalvar get_score, color_puntaje, vida_bool_g;
color_puntaje = 0;
get_score = 0;
vida_bool_g = 0;

// Eat people.
globalvar object_ind;
object_ind = noone;

// Tank bullets.

//show_debug_message(num_level);
termina_nivel = false;
floor_soldiers_num = 1;
create_ad = false;
alarm[0] = 30; // Create tanks.
alarm[1] = 30; // Create helicopters.
alarm[2] = 30; // Create infloor - soldiers.
alarm[4] = 120;
create_tanks = true;
if instance_exists(Screen_Shake) with Screen_Shake instance_destroy();
if instance_exists(Control_Game) with Control_Game instance_destroy();
/// Create controls.
//instance_create(615+15, 395+20+10+10, Button_B);//600
//instance_create(700+15, 345+20+10+10, Button_A);//685
//instance_create(80, 400+5, Joystick);//120, 100
Controles = 1;
instance_create(705, 25, Pausa);
instance_create(0,0, Dibujar_Poderes);

audio_play_sound(sn_soundtrack_pausa, 1, 1);
audio_sound_gain(sn_soundtrack_pausa, 0, 0);

// Crear los 3 ni√±os.
/*for(var i = 0; i &lt; 3; i++){
    n = instance_create(768 + i  * 32, 411 , Child_Intro);
    with(n){
        
    }
}

// Backgorund global variable.
//globalvar background;
//background = -1;
// Set background.
/*if(num_level == 1 or num_level == 7){
    background_index[0] = background_medellin;
}else if(num_level == 2 or num_level == 3 or num_level == 5 
         or num_level == 6 or num_level == 8 or num_level == 10){
    background_index[0] = background_bogota;
}else{
    background_index[0] = background_cartagena;
}*/

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Create airplane.
if(num_level == 5){
    instance_create(
        room_width + 10, 
        irandom_range(
                sprite_get_height(spr_avion),
                180 - sprite_get_height(spr_avion)
        ), 
        Avion
    );  
}else{
    instance_create(
        room_width + 10, 
        irandom_range(
                sprite_get_height(spr_avioneta),
                180 - sprite_get_height(spr_avioneta)
        ), 
        Avioneta
    );
}


/*if(num_level != 5){
    instance_create(
        room_width + 10, 
        irandom_range(
                sprite_get_height(spr_avioneta),
                345 - sprite_get_height(spr_avioneta)
        ), 
        Avioneta
    );
}else{
    instance_create(
        room_width + 10, 
        irandom_range(
                sprite_get_height(spr_avion),
                345 - sprite_get_height(spr_avion)
        ), 
        Avion
    );      
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>Control_World</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Room goto Room_Transicion
//var rand = choose(1, 2, 3);
//if(rand == 2){

if(num_level != 4) room_goto_transition(Room_Transicion, 0, 30);
else room_goto_transition(Room_Select, 0, 30);
chances = 2;
/*if(num_level != 5){
    instance_create(
        room_width + 10, 
        irandom_range(
                sprite_get_height(spr_avioneta),
                345 - sprite_get_height(spr_avioneta)
        ), 
        Avioneta
    );
}else{
    instance_create(
        room_width + 10, 
        irandom_range(
                sprite_get_height(spr_avion),
                345 - sprite_get_height(spr_avion)
        ), 
        Avion
    );      
}

//}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Create infloor - soldiers.
if(instance_number(Soldado_Piso) &lt; irandom_range(2,4)){
    var width = sprite_get_width(spr_soldier_walk);
    instance_create(
        choose(-width, room_width + width),
        412, 
        Soldado_Piso
    );
  //  show_debug_message('crear');
    alarm[2] = irandom_range(90, 120);
}else{
    alarm[2] = irandom_range(90, 120);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Create helicopters.
if (/*num_level == 1 or num_level == 2 or*/ num_level == 4 or num_level == 9){
    helicopter_num = 2;
    instance_create(0,0, Control_Helicopteros);
}else if (num_level == 2){
    helicopter_num = 1;
    instance_create(0,0, Control_Helicopteros);
}else if (num_level &gt;= 3){
    helicopter_num = 3; // 3
    instance_create(0,0, Control_Helicopteros);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Create Tanks.
if (num_level == 4 or num_level &gt;= 6){
    if(num_level != 9){
        if(!create_tanks) exit;
        alarm[0] = 30 * 5;
        if(instance_number(Tank) &gt; 5) exit;
        var width = sprite_get_width(spr_tank_idle);
        
        if(Player.x &lt; room_width/2){
            var tank = instance_create(room_width + width, 430, Tank);
        }else{
            var tank = instance_create(-width, 430, Tank); 
        }
        with(tank){
            if(x &lt;= -width){
                spd = 2;
            }else if(x &gt;= room_width + width){
                spd = -2;
                image_xscale = -1;
            }
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Check if the player completed the level.
if(room != game10){
    if(instance_number(Edificio) == 0 and !termina_nivel and Player.state != Lose_State){
    
        // Go to next room.
        alarm[3] = 90;
        termina_nivel = true;
        
        // Coronaste!
        if(instance_exists(Puntaje_Suma)) with Puntaje_Suma instance_destroy();
        instance_create(room_width/2, room_height/2 - 30, Coronaste);
        audio_play_sound(sn_coronaste, 1, 0);
        with Player draw_score = true;
        with Player win = true;
        // Delete avance_edificios file.
        if(file_exists(working_directory + "avance_edificios.sav")){
            file_delete(working_directory + "avance_edificios.sav");
        }
      //  ds_list_clear(avance_edificios);
    }
    
// Final del juego.
}else{

    // Create last building.
    if(!instance_exists(Building_25_2)){
       if(instance_number(Edificio) == 0){
           if(instance_exists(Building_25)){
             instance_create(Building_25.x, Building_25.y, Building_25_2);
             with Building_25 instance_destroy();
           }
            
       }
    }
    
}

/// Create controls.
if (Controles){
    if(!instance_exists(Button_A) and !instance_exists(Button_B)){
        //B_A = instance_create(615+15, 395+20+10, Button_B);//600
        //B_B = instance_create(700+15, 345+20+10, Button_A);//685
        B_A = instance_create(700+10, 345+20+10, Button_B);//685
        B_B = instance_create(615+10, 395+20+10, Button_A);//600
    }
}else{
    if(instance_exists(Button_A) and instance_exists(Button_B)){
        with(Button_B) instance_destroy();
        with(Button_A) instance_destroy();
    }
}

//Tap Control
if(device_mouse_check_button(0, mb_left)){
    if (!instance_exists(Tap_Control0)){
        instance_create(device_mouse_x(0), device_mouse_y(0),Tap_Control0);
    }
}
/*if(device_mouse_check_button(1, mb_left)){
    if (!instance_exists(Tap_Control1)){
        instance_create(device_mouse_x(1), device_mouse_y(1),Tap_Control1);
    }
}*/

if(mouse_check_button_pressed(mb_left) and keyboard_check(ord("M"))){
    var b = instance_nearest(x, y, Edificio);
    with b instance_destroy();
}

if(mouse_check_button_pressed(mb_left) and keyboard_check(ord("S"))){
    var b = instance_nearest(x, y, Edificio);
    with b building_life = 0;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//var asset = asset_get_index("sn_soundtrack_" + string(num_level));
var asset = Get_Soundtrack(num_level-1);
audio_sound_gain(asset, 0, 3000);
//sprite_delete(background);

//show_debug_message(vida_global);
if(audio_is_playing(sn_rage_music)){
    audio_sound_gain(sn_rage_music, 0, 3000);
}
if(audio_is_playing(sn_avion)){
    audio_stop_sound(sn_avion);
}
if(audio_is_playing(sn_helicopter_behind)){
    audio_stop_sound(sn_helicopter_behind);
}

if(audio_is_playing(sn_helicopter_front)){
    audio_stop_sound(sn_helicopter_front)
}

    audio_stop_sound(sn_soundtrack_pausa);
}

if(room == game10){
    audio_sound_gain(sn_rage_music, 0, 1000);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Change soundtrack.
//if(!audio_is_playing(Get_Soundtrack(num_level))){
   // show_debug_message("OCCUR");
    
   // if(num_level == 1){ audio_stop_sound(sn_soundtrack_tutorial); }

    //if(num_level != 1){
    /*if(num_level &gt;= 5 and num_level &lt; 10) var numlevel = num_level - 4;   
    else if(num_level &lt; 5) var numlevel = num_level;
    else var numlevel = 1;*/
    //var asset = asset_get_index("sn_soundtrack_" + string(numlevel));
    
    //if(num_level != 1) audio_stop_sound(asset_get_index("sn_soundtrack_" + string(numlevel-1)));
    //if(num_level == 1){ audio_stop_sound(sn_soundtrack_tutorial); }
    
    /*
    var asset = Get_Soundtrack(num_level);
    if(!audio_is_playing(asset)){
        audio_play_sound(asset, 0, 1);
        audio_sound_gain(asset, 0, 0);
        audio_sound_gain(asset, 1, 3000);
    }
   /* }else{
        audio_resume_sound(sn_soundtrack_1);
    //    audio_sound_gain(sn_soundtrack_1, 0, 0);
    //    audio_sound_gain(sn_soundtrack_1, 1, 3000);
    }*/
//}

// Set avance_edificios list.


//avance_edificios = instance_nearest_list(0,0, Edificio);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>display_set_gui_size(room_width, room_height);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw floor.
/*draw_sprite_ext(
    spr_piso, 
    0, 
    0, 
    399, 
    0.52, 
    0.7,  //0.648
    0, 
    c_white, 
    1
);*/

draw_sprite(
    spr_piso, 
    0,
    0, 
    433
   // room_height - sprite_get_height(spr_piso)
);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="89">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with Edificio instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="85">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with Player vida = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="84">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Create tanks.
if(!create_tanks){
    create_tanks = true;
}else{
    create_tanks = false;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="82">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>num_level --;
room_restart();
vida_global = 100;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="78">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>room_goto_next();

if(num_level &gt;= 5 and num_level &lt; 10) var numlevel = num_level - 4;   
   else if(num_level &lt; 5) var numlevel = num_level;
   else var numlevel = 1;
var asset = asset_get_index("sn_soundtrack_" + string(numlevel));
audio_stop_sound(asset);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="77">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Smooth view
if Smoothing
   {
   texture_set_interpolation(true);
   Smoothing = false
   }
else
   {
   texture_set_interpolation(false);
   Smoothing = true
   }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="70">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>room_goto_next();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="67">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (Controles){
    Controles = 0;
}else{
    Controles = 1;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
